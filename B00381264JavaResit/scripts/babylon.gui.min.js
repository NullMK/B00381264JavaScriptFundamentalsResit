window.addEventListener('DOMContentLoaded', function () {
    const canvas = document.getElementById('renderCanvas');
    const engine = new BABYLON.Engine(canvas, true);

    const createScene = function () {
        const scene = new BABYLON.Scene(engine);

        const camera = new BABYLON.ArcRotateCamera('camera1', Math.PI / 2, Math.PI / 4, 10, new BABYLON.Vector3(0, 0, 0), scene);
        camera.attachControl(canvas, true);

        const light = new BABYLON.HemisphericLight('light1', new BABYLON.Vector3(0, 1, 0), scene);
        light.intensity = 0.7;

        const box = BABYLON.MeshBuilder.CreateBox('box', {}, scene);

        // Create GUI
        const advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI('UI');
        const button = BABYLON.GUI.Button.CreateSimpleButton('button', 'Click Me');
        button.width = '150px';
        button.height = '40px';
        button.color = 'white';
        button.background = 'green';
        button.onPointerUpObservable.add(function () {
            box.position.y += 1;
        });

        advancedTexture.addControl(button);

        return scene;
    };

    const scene = createScene();

    engine.runRenderLoop(function () {
        scene.render();
    });

    window.addEventListener('resize', function () {
        engine.resize();
    });
});
